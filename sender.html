<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Blessing</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>प्रिय को भेजें महादेव का आशीर्वाद</h1>
        </div>

        <div class="content">
            <div class="form-group">
                <label for="senderName">आपका नाम:</label>
                <input type="text" id="senderName" placeholder="अपना नाम दाखें">
            </div>
            
            <div class="form-group">
                <label>आशीर्वाद चुनें:</label>
                <div class="blessing-selector">
                    <!-- Generate 8 blessing options -->
                    <script>
                        for (let i = 1; i <= 8; i++) {
                            document.write(`
                                <div class="blessing-option ${i === 1 ? 'selected' : ''}" data-id="${i}">
                                    <img src="assets/blessing${i}.gif" alt="Blessing ${i}">
                                    <p>आशीर्वाद ${i}</p>
                                </div>
                            `);
                        }
                    </script>
                </div>
            </div>
            
            <button class="btn" onclick="createGiftLink()">
                <i class="fas fa-paper-plane"></i> गिफ्ट भेजें & लिंक बनाएं
            </button>
            
            <div id="giftPreview" class="blessing-preview" style="display: none;">
                <h3>आपका आशीर्वाद पूर्वावलोकन:</h3>
                <img id="previewImage" src="" alt="Blessing Preview" class="gift-image">
                <p>From: <span id="previewSender">Sender</span></p>
                
                <div class="share-buttons">
                    <a id="whatsappShare" href="#" class="share-btn whatsapp" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a id="facebookShare" href="#" class="share-btn facebook" title="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a id="copyLink" href="#" class="share-btn copy" title="Copy Link">
                        <i class="fas fa-copy"></i>
                    </a>
                </div>
            </div>
            
            <div class="nav-buttons">
                <button class="btn" onclick="window.location.href='index.html'">
                    <i class="fas fa-arrow-left"></i> वापस
                </button>
                <button class="btn btn-secondary" onclick="window.location.href='donate.html'">
                    <i class="fas fa-hands-helping"></i> दान करें
                </button>
            </div>
        </div>
    </div>

    <script>
        // Blessing selection
        document.querySelectorAll('.blessing-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.blessing-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
        
        // Create gift link
        function createGiftLink() {
            const senderName = document.getElementById('senderName').value || 'एक मित्र';
            const selectedBlessing = document.querySelector('.blessing-option.selected').dataset.id;
            
            // Set preview
            document.getElementById('previewSender').textContent = senderName;
            document.getElementById('previewImage').src = `assets/blessing${selectedBlessing}.gif`;
            document.getElementById('giftPreview').style.display = 'block';
            
            // Create shareable link
            const giftLink = `${window.location.origin}/index.html?from=${encodeURIComponent(senderName)}`;
            
            // Set share buttons
            document.getElementById('whatsappShare').href = 
                `https://wa.me/?text=${encodeURIComponent(`महादेव का आशीर्वाद प्राप्त करें: ${giftLink}`)}`;
                
            document.getElementById('facebookShare').href = 
                `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(giftLink)}`;
                
            document.getElementById('copyLink').addEventListener('click', function(e) {
                e.preventDefault();
                navigator.clipboard.writeText(giftLink);
                alert('लिंक कॉपी हो गया!');
            });
            
            // Scroll to preview
            document.getElementById('giftPreview').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
